# Module Inventory Analysis
**Total Modules Analyzed**: 226

## Summary Statistics
- **Total Size**: 228,389 bytes (223.0 KB)
- **Total Lines**: 7,357
- **Average Module Size**: 1011 bytes
- **Average Complexity**: 1.9
- **Modules >4KB**: 11

## Modules by Layer

### App (226 modules)

| Module | Size | LOC | Functions | Classes | Complexity |
|--------|------|-----|-----------|---------|------------|
| trading_service_core.py | 12051B | 324 | 1 | 1 | 20 |
| market.py | 6014B | 164 | 1 | 1 | 20 |
| market.py | 6001B | 184 | 1 | 0 | 8 |
| settings.py | 5809B | 151 | 4 | 1 | 5 |
| balance.py | 5644B | 160 | 1 | 1 | 21 |
| sub_account.py | 5553B | 179 | 2 | 0 | 14 |
| trading_workflow.py | 5313B | 149 | 1 | 1 | 5 |
| trade_repository_core.py | 5038B | 164 | 1 | 1 | 4 |
| account.py | 4466B | 130 | 3 | 0 | 12 |
| market_service_core.py | 4463B | 141 | 1 | 1 | 7 |
| redis_data_manager.py | 4164B | 129 | 1 | 1 | 14 |
| client.py | 3956B | 133 | 4 | 1 | 23 |
| balance_service.py | 3949B | 103 | 4 | 1 | 12 |
| client.py | 3937B | 110 | 1 | 1 | 6 |
| price.py | 3687B | 113 | 1 | 1 | 19 |
| limits.py | 3652B | 111 | 6 | 1 | 15 |
| price_repository_core.py | 3601B | 142 | 1 | 1 | 2 |
| core.py | 3585B | 92 | 2 | 1 | 5 |
| connection.py | 3583B | 108 | 2 | 1 | 13 |
| bot.py | 3542B | 106 | 0 | 3 | 8 |
| cost_repository_core.py | 3393B | 102 | 1 | 1 | 5 |
| calculator.py | 3239B | 100 | 5 | 1 | 4 |
| position_repository_core.py | 3229B | 115 | 1 | 1 | 2 |
| ws_client.py | 3192B | 106 | 0 | 0 | 8 |
| sync_balance.py | 3098B | 92 | 1 | 0 | 12 |
| helpers.py | 3064B | 94 | 0 | 2 | 8 |
| market_endpoints.py | 2978B | 81 | 0 | 1 | 6 |
| cost_calculator.py | 2914B | 95 | 4 | 0 | 1 |
| status.py | 2869B | 95 | 0 | 2 | 1 |
| client.py | 2544B | 83 | 3 | 1 | 5 |
| data_collection.py | 2488B | 58 | 0 | 0 | 7 |
| trade_repo.py | 2412B | 58 | 0 | 1 | 9 |
| trading_strategy.py | 2411B | 74 | 4 | 1 | 11 |
| ws_channels.py | 2369B | 78 | 9 | 0 | 5 |
| sync_price.py | 2351B | 70 | 1 | 0 | 5 |
| sub_account_spot_repo.py | 2346B | 71 | 0 | 1 | 6 |
| get_klines.py | 2261B | 76 | 0 | 0 | 2 |
| decorators.py | 2230B | 78 | 6 | 0 | 4 |
| trade_counter.py | 2074B | 63 | 1 | 1 | 9 |
| __init__.py | 1923B | 47 | 0 | 0 | 0 |
| account.py | 1896B | 58 | 1 | 0 | 6 |
| sync_cost.py | 1852B | 59 | 1 | 0 | 5 |
| sub_account_broker_repo.py | 1840B | 50 | 0 | 1 | 2 |
| updater.py | 1805B | 47 | 3 | 1 | 4 |
| keys.py | 1768B | 63 | 10 | 1 | 2 |
| utils.py | 1688B | 51 | 3 | 0 | 5 |
| get_orderbook.py | 1555B | 50 | 0 | 0 | 0 |
| trade_history.py | 1548B | 48 | 1 | 1 | 6 |
| bot_status.py | 1502B | 48 | 1 | 1 | 6 |
| list_trades.py | 1463B | 49 | 0 | 0 | 1 |
| position_layers.py | 1432B | 45 | 1 | 1 | 4 |
| position.py | 1423B | 46 | 1 | 1 | 6 |
| position_updater.py | 1342B | 38 | 1 | 1 | 0 |
| cost.py | 1240B | 44 | 1 | 1 | 4 |
| account_repo.py | 1200B | 34 | 0 | 1 | 4 |
| price_resolver.py | 1104B | 30 | 1 | 1 | 4 |
| list_orders.py | 1091B | 39 | 0 | 0 | 0 |
| sub_account_facade.py | 1087B | 29 | 0 | 1 | 3 |
| balance_resolver.py | 1044B | 31 | 1 | 1 | 4 |
| mexc_raw.py | 1041B | 35 | 1 | 1 | 5 |
| get_price.py | 1001B | 38 | 0 | 0 | 0 |
| trade_port.py | 948B | 37 | 0 | 1 | 0 |
| execution.py | 850B | 23 | 0 | 0 | 2 |
| strategy.py | 837B | 24 | 0 | 0 | 3 |
| config.py | 810B | 31 | 1 | 1 | 2 |
| place_order.py | 771B | 31 | 0 | 0 | 0 |
| router.py | 703B | 20 | 0 | 0 | 0 |
| trading_events.py | 703B | 34 | 0 | 3 | 0 |
| risk.py | 701B | 20 | 0 | 0 | 5 |
| position_service.py | 673B | 23 | 3 | 1 | 0 |
| __init__.py | 665B | 17 | 0 | 0 | 0 |
| price_resolver.py | 654B | 19 | 1 | 1 | 1 |
| list_orders.py | 643B | 25 | 0 | 0 | 0 |
| market_port.py | 643B | 27 | 0 | 1 | 0 |
| signature.py | 616B | 21 | 1 | 0 | 2 |
| __init__.py | 613B | 21 | 0 | 0 | 0 |
| bootstrap.py | 611B | 18 | 1 | 0 | 0 |
| handlers.py | 600B | 28 | 0 | 0 | 0 |
| price_port.py | 597B | 25 | 0 | 1 | 0 |
| position_port.py | 596B | 25 | 0 | 1 | 0 |
| get_price.py | 590B | 26 | 0 | 0 | 0 |
| __init__.py | 584B | 23 | 0 | 0 | 0 |
| type_safety.py | 573B | 24 | 2 | 0 | 2 |
| __init__.py | 572B | 22 | 0 | 0 | 0 |
| sub_account.py | 571B | 18 | 0 | 1 | 0 |
| cost_port.py | 564B | 27 | 0 | 1 | 0 |
| get_orderbook.py | 563B | 23 | 0 | 0 | 0 |
| manager.py | 552B | 21 | 0 | 0 | 1 |
| cancel_order.py | 547B | 23 | 0 | 0 | 0 |
| strategy_service.py | 543B | 20 | 1 | 1 | 0 |
| order.py | 540B | 23 | 0 | 1 | 0 |
| __init__.py | 537B | 13 | 0 | 0 | 0 |
| risk_service.py | 522B | 19 | 2 | 1 | 0 |
| get_balance.py | 519B | 17 | 0 | 0 | 0 |
| utils_core.py | 517B | 22 | 0 | 0 | 0 |
| account_port.py | 516B | 23 | 0 | 1 | 0 |
| headers.py | 496B | 19 | 1 | 0 | 1 |
| startup.py | 494B | 15 | 0 | 0 | 2 |
| price_history_manager.py | 487B | 14 | 1 | 1 | 0 |
| base.py | 474B | 18 | 1 | 1 | 0 |
| __init__.py | 472B | 11 | 0 | 0 | 0 |
| __init__.py | 471B | 18 | 0 | 0 | 0 |
| metadata.py | 470B | 19 | 1 | 0 | 1 |
| __init__.py | 449B | 19 | 0 | 0 | 0 |
| price.py | 445B | 19 | 0 | 1 | 0 |
| __init__.py | 418B | 16 | 0 | 0 | 0 |
| session.py | 417B | 14 | 1 | 0 | 0 |
| stop_loss.py | 416B | 17 | 1 | 1 | 1 |
| sync_account.py | 409B | 16 | 0 | 0 | 0 |
| position.py | 406B | 18 | 0 | 1 | 0 |
| trade.py | 396B | 19 | 0 | 1 | 0 |
| example_strategy.py | 391B | 12 | 0 | 1 | 0 |
| __init__.py | 390B | 16 | 0 | 0 | 0 |
| response_parser.py | 387B | 16 | 1 | 0 | 0 |
| sync_market.py | 371B | 15 | 0 | 0 | 0 |
| __init__.py | 369B | 15 | 0 | 0 | 0 |
| sync_trades.py | 368B | 15 | 0 | 0 | 0 |
| cache_policy.py | 365B | 22 | 1 | 0 | 0 |
| __init__.py | 351B | 14 | 0 | 0 | 0 |
| account_keys.py | 351B | 16 | 0 | 0 | 0 |
| repository_service.py | 341B | 15 | 1 | 1 | 0 |
| connect.py | 330B | 18 | 0 | 0 | 0 |
| mexc_client_service.py | 319B | 15 | 1 | 1 | 0 |
| price_repo_service.py | 315B | 15 | 1 | 1 | 0 |
| parser.py | 314B | 13 | 1 | 0 | 1 |
| cache_service.py | 304B | 15 | 1 | 1 | 0 |
| market_keys.py | 299B | 11 | 0 | 0 | 0 |
| json_codec.py | 290B | 17 | 2 | 0 | 0 |
| __init__.py | 287B | 12 | 0 | 0 | 0 |
| exceptions.py | 284B | 13 | 0 | 2 | 0 |
| redis_helpers_core.py | 272B | 9 | 0 | 0 | 0 |
| __init__.py | 264B | 6 | 0 | 0 | 0 |
| balance.py | 261B | 17 | 0 | 1 | 0 |
| execute_trade.py | 258B | 11 | 0 | 0 | 0 |
| __init__.py | 253B | 7 | 0 | 0 | 0 |
| cache_strategy.py | 244B | 9 | 1 | 1 | 0 |
| http_client.py | 242B | 10 | 0 | 0 | 0 |
| redis_helpers.py | 241B | 6 | 0 | 0 | 0 |
| ws_core.py | 236B | 10 | 0 | 0 | 0 |
| __init__.py | 235B | 10 | 0 | 0 | 0 |
| __init__.py | 234B | 7 | 0 | 0 | 0 |
| market_price_repo.py | 234B | 10 | 0 | 0 | 0 |
| status.py | 230B | 11 | 0 | 0 | 0 |
| account_balance_repo.py | 229B | 10 | 0 | 0 | 0 |
| dto.py | 221B | 11 | 0 | 0 | 0 |
| clock.py | 219B | 13 | 1 | 0 | 0 |
| sign_request.py | 213B | 10 | 0 | 0 | 0 |
| get_balance.py | 212B | 10 | 0 | 0 | 0 |
| account.py | 212B | 15 | 0 | 1 | 0 |
| balance_service_core.py | 208B | 9 | 0 | 0 | 0 |
| update_position.py | 205B | 10 | 0 | 0 | 0 |
| validate_trade.py | 204B | 10 | 0 | 0 | 0 |
| workflow.py | 200B | 10 | 0 | 0 | 0 |
| manage_risk.py | 200B | 10 | 0 | 0 | 0 |
| pool.py | 198B | 8 | 0 | 0 | 0 |
| connect.py | 196B | 8 | 0 | 0 | 0 |
| dto.py | 194B | 10 | 0 | 0 | 0 |
| utils.py | 194B | 6 | 0 | 0 | 0 |
| cleanup.py | 192B | 8 | 0 | 0 | 0 |
| market.py | 190B | 7 | 0 | 0 | 0 |
| handlers.py | 187B | 7 | 0 | 0 | 0 |
| account.py | 181B | 7 | 0 | 0 | 0 |
| account_adapter.py | 176B | 8 | 0 | 0 | 0 |
| __init__.py | 176B | 6 | 0 | 0 | 0 |
| signer.py | 175B | 5 | 0 | 0 | 0 |
| market_adapter.py | 175B | 8 | 0 | 0 | 0 |
| __init__.py | 173B | 5 | 0 | 0 | 0 |
| order.py | 169B | 7 | 0 | 0 | 0 |
| ids.py | 163B | 13 | 1 | 0 | 0 |
| errors.py | 156B | 11 | 0 | 1 | 0 |
| start.py | 156B | 8 | 0 | 0 | 0 |
| risk_adapter.py | 156B | 8 | 0 | 0 | 0 |
| stop.py | 155B | 8 | 0 | 0 | 0 |
| __init__.py | 154B | 5 | 0 | 0 | 0 |
| lifecycle.py | 152B | 8 | 0 | 0 | 0 |
| types.py | 151B | 7 | 0 | 0 | 0 |
| __init__.py | 151B | 5 | 0 | 0 | 0 |
| __init__.py | 150B | 4 | 0 | 0 | 0 |
| __init__.py | 148B | 5 | 0 | 0 | 0 |
| core.py | 147B | 5 | 0 | 0 | 0 |
| __init__.py | 145B | 5 | 0 | 0 | 0 |
| position_repository.py | 144B | 5 | 0 | 0 | 0 |
| executor.py | 143B | 8 | 0 | 0 | 0 |
| cloud_tasks.py | 143B | 8 | 0 | 0 | 0 |
| env.py | 135B | 8 | 0 | 0 | 0 |
| price_repository.py | 132B | 5 | 0 | 0 | 0 |
| trade_repository.py | 132B | 5 | 0 | 0 | 0 |
| balance_service.py | 129B | 5 | 0 | 0 | 0 |
| trading_service.py | 128B | 5 | 0 | 0 | 0 |
| cost_repository.py | 128B | 5 | 0 | 0 | 0 |
| typing.py | 125B | 8 | 0 | 0 | 0 |
| market_service.py | 124B | 5 | 0 | 0 | 0 |
| __init__.py | 106B | 4 | 0 | 0 | 0 |
| __init__.py | 77B | 4 | 0 | 0 | 0 |
| __init__.py | 77B | 4 | 0 | 0 | 0 |
| __init__.py | 74B | 4 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |
| __init__.py | 0B | 1 | 0 | 0 | 0 |

## Large Modules (>4KB)

| Module | Size | Responsibility |
|--------|------|----------------|
| app/application/trading/services/trading/trading_service_core.py | 12051B | Trading Service - Orchestrates trading workflow |
| app/infrastructure/persistence/redis/cache/market.py | 6014B | Market cache helpers extracted from Redis client core for clarity. |
| app/interfaces/http/market.py | 6001B | Market HTTP routes - provides endpoints for market data. |
| app/infrastructure/config/settings.py | 5809B | Configuration management for QRL Trading API |
| app/infrastructure/persistence/redis/cache/balance.py | 5644B | Balance caching helpers separated from Redis client core for clarity. |
| app/interfaces/http/sub_account.py | 5553B | Sub-account HTTP routes - manage sub-accounts, balances, and API keys. |
| app/application/trading/services/trading/trading_workflow.py | 5313B | Trading workflow orchestrator (6-phase) extracted from TradingService. |
| app/infrastructure/persistence/repos/trade/trade_repository_core.py | 5038B | Trade Repository - Data access for trade history and tracking |
| app/interfaces/http/account.py | 4466B | Account HTTP routes aligned to target architecture. |
| app/application/trading/services/market/market_service_core.py | 4463B | Market Service - Market data operations with caching |
| app/infrastructure/utils/redis_data_manager.py | 4164B | Redis data manager extracted from redis_helpers_core for reuse. |

## High Complexity Modules (>20)

| Module | Complexity | Functions | Recommendation |
|--------|------------|-----------|----------------|
| app/infrastructure/external/mexc/websocket/client.py | 23 | 4 | Extract sub-modules |
| app/infrastructure/persistence/redis/cache/balance.py | 21 | 1 | Extract sub-modules |

