# Application Configuration
# Note: When deploying to Cloud Run, PORT is automatically provided by the platform
DEBUG=False

# Redis Configuration (Cloud Redis - single URL format)
# Format: redis://[:password@]host[:port][/database]
# Example: redis://10.0.0.3:6379/0
# Example with password: redis://:your_password@10.0.0.3:6379/0
REDIS_URL=redis://localhost:6379/0

# Trading Configuration
TRADING_PAIR=QRL-USDT
MAX_DAILY_TRADES=8

# MEXC API Configuration (use Secret Manager in production)
MEXC_API_KEY=your_api_key_here
MEXC_API_SECRET=your_api_secret_here
MEXC_SUBACCOUNT=your_subaccount_name
MEXC_BASE_URL=https://api.mexc.com

# ===== 囤幣累積策略參數 =====

# 倉位分層管理 (三層倉位設計)
CORE_POSITION_PERCENT=70.0      # 核心倉位 70% - 永不出售
SWING_POSITION_PERCENT=20.0     # 波段倉位 20% - 捕捉大波動
ACTIVE_POSITION_PERCENT=10.0    # 機動倉位 10% - 日內交易

# USDT 儲備管理
MIN_USDT_RESERVE_PERCENT=15.0   # 最低保留 15% USDT
MAX_USDT_RESERVE_PERCENT=25.0   # 最高保留 25% USDT
USDT_USAGE_PERCENT=60.0         # 每次交易使用 60% 可用 USDT

# 價格與策略參數
LONG_MA_PERIOD=20               # 長期均線周期
DCA_DIP_THRESHOLD=0.98          # 逢低買入閾值 (低於 MA 2%)
DCA_INTERVAL_HOURS=24           # 定期買入間隔 (小時)

# 賣出閾值 (只賣機動/波段倉位,核心倉位永不賣)
ACTIVE_SELL_THRESHOLD=1.05      # 機動倉位賣出閾值 (+5%)
SWING_SELL_THRESHOLD=1.15       # 波段倉位賣出閾值 (+15%)
ACTIVE_SELL_PERCENT=50.0        # 機動倉位賣出比例
SWING_SELL_PERCENT=30.0         # 波段倉位賣出比例

# 買回策略
BUYBACK_DROP_PERCENT=5.0        # 價格回調多少買回 (%)

# 風險控制
MAX_DAILY_LOSS_PERCENT=3.0      # 單日最大虧損 (暫停交易)
MIN_USDT_FOR_TRADE=10.0         # 最低交易金額

# 成本保護
ALLOW_BUY_ABOVE_COST=False      # 是否允許高於成本價買入
MIN_SELL_PROFIT_PERCENT=3.0     # 最低賣出利潤 (%)
